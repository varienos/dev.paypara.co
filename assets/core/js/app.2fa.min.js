const twoFA={init:function(){toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toastr-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},$("[verify]").on("click",function(o){""!=$("[verificationCode]").val()&&$("[verificationCode]").val().length>=6?twoFA.authorization().then(o=>{200==o&&(window.location=window.location.protocol+"//"+window.location.hostname+"/dashboard/success")}).catch(o=>{toastr.error("Kod doğrulanamadı. Tekrar deneyiniz.")}):toastr.error("6 rakamlı doğrulama kodunu giriniz !")})},authorization:function(){return new Promise(function(o,t){if($("[verificationCode]")){var i=new XMLHttpRequest;i.open("GET",window.location.protocol+"//"+window.location.hostname+"/secure/2fa/verify/"+$("[verificationCode]").val(),!0),i.onload=function(){200==this.status?o(this.status):t(this.status)},i.send()}})}};$(function(){twoFA.init()});